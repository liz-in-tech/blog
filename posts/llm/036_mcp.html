<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.13" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="alternate" hreflang="zh-cn" href="https://liz-in-tech.github.io/blog/zh/posts/llm/036_mcp.html"><meta property="og:url" content="https://liz-in-tech.github.io/blog/posts/llm/036_mcp.html"><meta property="og:site_name" content="Liz"><meta property="og:title" content="MCP Technical Overview"><meta property="og:description" content="MCP Technical Overview Concept, Evolution, and Significance of MCP MCP Architecture, Core Components, and Function Types MCP Client and MCP Server How Different Roles Use MCP"><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><meta property="og:updated_time" content="2025-07-29T13:54:25.000Z"><meta property="article:author" content="Liz"><meta property="article:tag" content="MCP"><meta property="article:published_time" content="2025-04-23T00:00:00.000Z"><meta property="article:modified_time" content="2025-07-29T13:54:25.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"MCP Technical Overview","image":[""],"datePublished":"2025-04-23T00:00:00.000Z","dateModified":"2025-07-29T13:54:25.000Z","author":[{"@type":"Person","name":"Liz","url":"https://github.com/liz-in-tech"}]}</script><link rel="icon" herf="/blogger.png"><link rel="icon" href="/blog/blogger.png"><title>MCP Technical Overview | Liz</title><meta name="description" content="MCP Technical Overview Concept, Evolution, and Significance of MCP MCP Architecture, Core Components, and Function Types MCP Client and MCP Server How Different Roles Use MCP">
    <link rel="preload" href="/blog/assets/style-m_obra2h.css" as="style"><link rel="stylesheet" href="/blog/assets/style-m_obra2h.css">
    <link rel="modulepreload" href="/blog/assets/app-OCzq8eNB.js"><link rel="modulepreload" href="/blog/assets/036_mcp.html-wWBVE8ra.js"><link rel="modulepreload" href="/blog/assets/036_mcp_logic-_xrBW_ye.js"><link rel="modulepreload" href="/blog/assets/plugin-vue_export-helper-x3n3nnut.js"><link rel="modulepreload" href="/blog/assets/036_mcp.html-mELys_9b.js">
    <link rel="prefetch" href="/blog/assets/index.html-YbPtte5_.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-CGfhr1vY.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-FUMOuem4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html--TTjrkIy.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-g4Nfr7z1.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-bitGHKd2.js" as="script"><link rel="prefetch" href="/blog/assets/001_langchain.html-pCFuhYHy.js" as="script"><link rel="prefetch" href="/blog/assets/002_langchain_sourcecode.html-0dULq4fV.js" as="script"><link rel="prefetch" href="/blog/assets/003_streamlit.html-rU-ICBCx.js" as="script"><link rel="prefetch" href="/blog/assets/004_transformer.html-rVimVVvM.js" as="script"><link rel="prefetch" href="/blog/assets/005_llama.html-PPnfWd5A.js" as="script"><link rel="prefetch" href="/blog/assets/006_llm_leaderboard.html-IMCQYiuX.js" as="script"><link rel="prefetch" href="/blog/assets/007_computer_use.html-NXAgxCZc.js" as="script"><link rel="prefetch" href="/blog/assets/008_rag_challenge.html-2XihIpNV.js" as="script"><link rel="prefetch" href="/blog/assets/009_llm_challenge.html-c_OZVW4n.js" as="script"><link rel="prefetch" href="/blog/assets/010_rag_workflow.html-VAQDBYt1.js" as="script"><link rel="prefetch" href="/blog/assets/011_vector_database.html-lYSX4LTx.js" as="script"><link rel="prefetch" href="/blog/assets/012_prompt_engineering.html-YAdmxOen.js" as="script"><link rel="prefetch" href="/blog/assets/013_optimizing_llm.html-6CxOIR84.js" as="script"><link rel="prefetch" href="/blog/assets/014_rag_evaluation.html-GIu-oGwK.js" as="script"><link rel="prefetch" href="/blog/assets/015_fine_tune.html-dGpakwon.js" as="script"><link rel="prefetch" href="/blog/assets/016_multimodal.html-rrs6OqYq.js" as="script"><link rel="prefetch" href="/blog/assets/017_agent_and_multiagent.html-tCPGJV8e.js" as="script"><link rel="prefetch" href="/blog/assets/018_huggingface.html-xa6dHS9r.js" as="script"><link rel="prefetch" href="/blog/assets/019_ollama.html-plb_Orn6.js" as="script"><link rel="prefetch" href="/blog/assets/020_neo4j.html-a2aBhY6q.js" as="script"><link rel="prefetch" href="/blog/assets/021_microsoft_graphrag.html-oPHcVCmi.js" as="script"><link rel="prefetch" href="/blog/assets/022_llamaindex_graphrag.html-h0RgV0s1.js" as="script"><link rel="prefetch" href="/blog/assets/023_agent_framework.html-py7Qkdf7.js" as="script"><link rel="prefetch" href="/blog/assets/024_distribution_and_parallelism.html-CKC7PrZL.js" as="script"><link rel="prefetch" href="/blog/assets/025_distribution_and_parallelism_1.html-lLDcwDOe.js" as="script"><link rel="prefetch" href="/blog/assets/026_distribution_and_parallelism_2.html-6kfObp4n.js" as="script"><link rel="prefetch" href="/blog/assets/027_distribution_and_parallelism_3.html-y_3AuM7D.js" as="script"><link rel="prefetch" href="/blog/assets/028_distribution_and_parallelism_4.html-P81Mnq7u.js" as="script"><link rel="prefetch" href="/blog/assets/029_unsloth_grpo.html-1JeKlSnS.js" as="script"><link rel="prefetch" href="/blog/assets/030_wandb.html-WMD5mJL9.js" as="script"><link rel="prefetch" href="/blog/assets/031_qlora.html-JOYVOncP.js" as="script"><link rel="prefetch" href="/blog/assets/032_sft_trainer_sourcecode_prepare_model.html-enb0adk5.js" as="script"><link rel="prefetch" href="/blog/assets/033_sft_trainer_sourcecode_prepare_dataset.html-wFcALIHZ.js" as="script"><link rel="prefetch" href="/blog/assets/034_sft_trainer_sourcecode_prepare_train.html-u2AhA8IY.js" as="script"><link rel="prefetch" href="/blog/assets/035_easyr1_verl_ray_qwenvl_grpo.html-rZFX-3to.js" as="script"><link rel="prefetch" href="/blog/assets/037_ai_code_editor.html-gZhu5VFV.js" as="script"><link rel="prefetch" href="/blog/assets/038_bert_colbert_colpali.html-epd-_PMj.js" as="script"><link rel="prefetch" href="/blog/assets/039_n8n.html-E5xSNNm3.js" as="script"><link rel="prefetch" href="/blog/assets/040_mem0.html-EZyEyg57.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ZDCSnlc1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ZYw6WxxA.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-OavE9BET.js" as="script"><link rel="prefetch" href="/blog/assets/001_langchain.html-tEkJTRMy.js" as="script"><link rel="prefetch" href="/blog/assets/002_langchain_sourcecode.html-Cf9F-5tQ.js" as="script"><link rel="prefetch" href="/blog/assets/003_streamlit.html-HjDyRBtK.js" as="script"><link rel="prefetch" href="/blog/assets/004_transformer.html-LcEZruqw.js" as="script"><link rel="prefetch" href="/blog/assets/005_llama.html-RH03PuTh.js" as="script"><link rel="prefetch" href="/blog/assets/006_llm_leaderboard.html-oHc2EEDF.js" as="script"><link rel="prefetch" href="/blog/assets/007_computer_use.html-9uep80On.js" as="script"><link rel="prefetch" href="/blog/assets/008_rag_challenge.html-n6JQ6oC1.js" as="script"><link rel="prefetch" href="/blog/assets/009_llm_challenge.html-xfwZXlYi.js" as="script"><link rel="prefetch" href="/blog/assets/010_rag_workflow.html-bgEctrLI.js" as="script"><link rel="prefetch" href="/blog/assets/011_vector_database.html-aUpUZb-l.js" as="script"><link rel="prefetch" href="/blog/assets/012_prompt_engineering.html-8v74jdRy.js" as="script"><link rel="prefetch" href="/blog/assets/013_optimizing_llm.html-W-CdR_ck.js" as="script"><link rel="prefetch" href="/blog/assets/014_rag_evaluation.html-QoGrIyLb.js" as="script"><link rel="prefetch" href="/blog/assets/015_fine_tune.html-B8-mxmmH.js" as="script"><link rel="prefetch" href="/blog/assets/016_multimodal.html-wKLzc0PX.js" as="script"><link rel="prefetch" href="/blog/assets/017_agent_and_multiagent.html-oSXpre05.js" as="script"><link rel="prefetch" href="/blog/assets/018_huggingface.html-z4dUNzIp.js" as="script"><link rel="prefetch" href="/blog/assets/019_ollama.html-BEfb0F5v.js" as="script"><link rel="prefetch" href="/blog/assets/020_neo4j.html-Ss2gFNbK.js" as="script"><link rel="prefetch" href="/blog/assets/021_microsoft_graphrag.html-i7xll12O.js" as="script"><link rel="prefetch" href="/blog/assets/022_llamaindex_graphrag.html-SaWe1p9V.js" as="script"><link rel="prefetch" href="/blog/assets/023_agent_framework.html-SPruHtsV.js" as="script"><link rel="prefetch" href="/blog/assets/024_distribution_and_parallelism.html-7h-MA_ID.js" as="script"><link rel="prefetch" href="/blog/assets/025_distribution_and_parallelism_1.html-876c7ePU.js" as="script"><link rel="prefetch" href="/blog/assets/026_distribution_and_parallelism_2.html-unSOw2um.js" as="script"><link rel="prefetch" href="/blog/assets/027_distribution_and_parallelism_3.html-967w-EGe.js" as="script"><link rel="prefetch" href="/blog/assets/028_distribution_and_parallelism_4.html-SSQztgH6.js" as="script"><link rel="prefetch" href="/blog/assets/029_unsloth_grpo.html-BWNBotHO.js" as="script"><link rel="prefetch" href="/blog/assets/030_wandb.html-K-PdjuDZ.js" as="script"><link rel="prefetch" href="/blog/assets/031_qlora.html-vUUfqpgA.js" as="script"><link rel="prefetch" href="/blog/assets/032_sft_trainer_sourcecode_prepare_model.html-XpSPvVnv.js" as="script"><link rel="prefetch" href="/blog/assets/033_sft_trainer_sourcecode_prepare_dataset.html-BzsRNUbf.js" as="script"><link rel="prefetch" href="/blog/assets/034_sft_trainer_sourcecode_prepare_train.html-vUbMaPTG.js" as="script"><link rel="prefetch" href="/blog/assets/035_easyr1_verl_ray_qwenvl_grpo.html-xtqvKYxK.js" as="script"><link rel="prefetch" href="/blog/assets/036_mcp.html-qQj4KFgD.js" as="script"><link rel="prefetch" href="/blog/assets/037_ai_code_editor.html-wKkVJU39.js" as="script"><link rel="prefetch" href="/blog/assets/038_bert_colbert_colpali.html-diPEooij.js" as="script"><link rel="prefetch" href="/blog/assets/039_n8n.html-cVoNgCNp.js" as="script"><link rel="prefetch" href="/blog/assets/040_mem0.html-BIHIWn87.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-wh_dBtOR.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-cxLWDy2T.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-kf4JCRaf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-RkA-insV.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4kI_oqSd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-WhuidxNt.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-OqGkeUA_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5GeN-sdD.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c4Rf4yh1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2r0jUs7o.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BSKRXRQc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-KjTsJ0Hg.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-TteIwMx3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-g00XXzrL.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-YxbJgo4L.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3T79Cy0i.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-A5tlQHan.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-04ff5e0O.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-vgZ6rfFh.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-OmipPplE.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-E1KrJL6a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-oPH9QkTj.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cHRqZSs8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-74SU9ZTn.js" as="script"><link rel="prefetch" href="/blog/assets/index.html--iJiA8oX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-oZPWb_Fc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-FUIWSLsp.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5ERWyusD.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Zjn0JNqd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-jcvPTrgB.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9t2TsyuQ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CcLVFNIv.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DVoYOOaL.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-V52ipvRm.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9If_KW0o.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-df9Mrf2R.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f9bWoKcO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-GYH0QUoo.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-JVTfeijx.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-_C1QVNqX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-L_IXFmna.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-nZWHmXY7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-x4gPgqE4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-bWnVyuyA.js" as="script"><link rel="prefetch" href="/blog/assets/index.html--yTU23ka.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-tRnpyzfw.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7aypos-L.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1BXcbV1R.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-pu478WKz.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DFi1VhMA.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7uaSljkV.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BULhD4SJ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-i7RIA9-O.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-NNpPPGUU.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6fV7cAWu.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-re_azL6k.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-eDnsjHn0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-XJjGVcB1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-gk41ZjYe.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Yfu_nCH_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-kfznU-S2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ONQi7FNw.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-WYPqHX-w.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-XeF3l2WH.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CW9ZW3oJ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-oFICTqp8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-vM7lw66Z.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-lVB7bKof.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cxhAU9lJ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-LHukpLS7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-howjHe2f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DeN_iOWx.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cnlzR0a7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0P_c_pcU.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-dy_CcFmq.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-FzFytZ_p.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2KSwV7xp.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-F1coElwg.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ffflqCb9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-F8ZuLYgH.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-HeYWaFeL.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-xKYeJEc5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-xB-iS7Ql.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-OEUPqfTV.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-EE4iQI9m.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-g1PUF_BG.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-nUBcs85a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9Y3la5Sf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-wufIFDPM.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-bXZQIxRE.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-wd6ZkEHi.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Xlk0AXmC.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Uv7c7pYa.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-FfZqC9tZ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-mSPhZxqB.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-51HoKD5A.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Q5_K6Vux.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-jkWPo860.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-kTEqch5G.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-y4iBqBqc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ibHhI9SI.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3hk_s27_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-QJ9j3Zl2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-QvWFHL99.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Pefl6i_g.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-dNHrcQzx.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-tITHrBRq.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-r_IMIQdZ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-FFF0RGO4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9IXcskQt.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ugXEguUy.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-EfbnPEyC.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-RqAc2CyF.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-EMJv9LS_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2WXcYCcs.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-LiG-zZe1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-61T6z-rQ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-RnAGrFfA.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-wpQIR1FA.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-uvjipFvG.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-_hsrrNek.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CdLhXnh_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CJRL4lU2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-EPRYYmqc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0gAiHgvp.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-xJ6HccSm.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-pv0Q3CvZ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-vwA3LL1e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-fS28a7_0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-hLUX1zlT.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-O3y0_rRN.js" as="script"><link rel="prefetch" href="/blog/assets/001_langchain.html-r7cL_zB1.js" as="script"><link rel="prefetch" href="/blog/assets/002_langchain_sourcecode.html-xACPsZ7c.js" as="script"><link rel="prefetch" href="/blog/assets/003_streamlit.html-wHARhpPq.js" as="script"><link rel="prefetch" href="/blog/assets/004_transformer.html-w0dfPaxk.js" as="script"><link rel="prefetch" href="/blog/assets/005_llama.html-zsC8ZjJc.js" as="script"><link rel="prefetch" href="/blog/assets/006_llm_leaderboard.html-xSzv5sDD.js" as="script"><link rel="prefetch" href="/blog/assets/007_computer_use.html-YD14Op2X.js" as="script"><link rel="prefetch" href="/blog/assets/008_rag_challenge.html-1UriIy36.js" as="script"><link rel="prefetch" href="/blog/assets/009_llm_challenge.html-AbCjyJoA.js" as="script"><link rel="prefetch" href="/blog/assets/010_rag_workflow.html-7DrRkLMh.js" as="script"><link rel="prefetch" href="/blog/assets/011_vector_database.html-PzUaD2vZ.js" as="script"><link rel="prefetch" href="/blog/assets/012_prompt_engineering.html-q68VCMXJ.js" as="script"><link rel="prefetch" href="/blog/assets/013_optimizing_llm.html-JC5Ll4Mq.js" as="script"><link rel="prefetch" href="/blog/assets/014_rag_evaluation.html-NlLPT5aA.js" as="script"><link rel="prefetch" href="/blog/assets/015_fine_tune.html-5lVBYEBa.js" as="script"><link rel="prefetch" href="/blog/assets/016_multimodal.html-7H_hwPdo.js" as="script"><link rel="prefetch" href="/blog/assets/017_agent_and_multiagent.html-l-NfcB62.js" as="script"><link rel="prefetch" href="/blog/assets/018_huggingface.html-YRXdRsed.js" as="script"><link rel="prefetch" href="/blog/assets/019_ollama.html-zlQ56MPm.js" as="script"><link rel="prefetch" href="/blog/assets/020_neo4j.html-thilGf0O.js" as="script"><link rel="prefetch" href="/blog/assets/021_microsoft_graphrag.html-nyxQyZ6R.js" as="script"><link rel="prefetch" href="/blog/assets/022_llamaindex_graphrag.html-nkH3udTc.js" as="script"><link rel="prefetch" href="/blog/assets/023_agent_framework.html-LFqiEd4_.js" as="script"><link rel="prefetch" href="/blog/assets/024_distribution_and_parallelism.html-DxCicObb.js" as="script"><link rel="prefetch" href="/blog/assets/025_distribution_and_parallelism_1.html-cdhXa4WH.js" as="script"><link rel="prefetch" href="/blog/assets/026_distribution_and_parallelism_2.html-B81QPagE.js" as="script"><link rel="prefetch" href="/blog/assets/027_distribution_and_parallelism_3.html-w5RESYGM.js" as="script"><link rel="prefetch" href="/blog/assets/028_distribution_and_parallelism_4.html-thE0A0Sc.js" as="script"><link rel="prefetch" href="/blog/assets/029_unsloth_grpo.html-fNyVCwe_.js" as="script"><link rel="prefetch" href="/blog/assets/030_wandb.html-RRLOND1R.js" as="script"><link rel="prefetch" href="/blog/assets/031_qlora.html-2qJkvGyK.js" as="script"><link rel="prefetch" href="/blog/assets/032_sft_trainer_sourcecode_prepare_model.html-flyhjVFE.js" as="script"><link rel="prefetch" href="/blog/assets/033_sft_trainer_sourcecode_prepare_dataset.html-8XCHUzAt.js" as="script"><link rel="prefetch" href="/blog/assets/034_sft_trainer_sourcecode_prepare_train.html-uGaEtvk1.js" as="script"><link rel="prefetch" href="/blog/assets/035_easyr1_verl_ray_qwenvl_grpo.html-DhppxS5c.js" as="script"><link rel="prefetch" href="/blog/assets/037_ai_code_editor.html-5fovHNhd.js" as="script"><link rel="prefetch" href="/blog/assets/038_bert_colbert_colpali.html-pe1aIi3_.js" as="script"><link rel="prefetch" href="/blog/assets/039_n8n.html-xUoPalNJ.js" as="script"><link rel="prefetch" href="/blog/assets/040_mem0.html-FV06Fo91.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Q-BD0-KT.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-NePWEFvY.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-D3EvIUS3.js" as="script"><link rel="prefetch" href="/blog/assets/001_langchain.html-OZyYPs3Z.js" as="script"><link rel="prefetch" href="/blog/assets/002_langchain_sourcecode.html-tsiNc21m.js" as="script"><link rel="prefetch" href="/blog/assets/003_streamlit.html-zTq9pT88.js" as="script"><link rel="prefetch" href="/blog/assets/004_transformer.html-reZhYj2F.js" as="script"><link rel="prefetch" href="/blog/assets/005_llama.html-vRN1zaps.js" as="script"><link rel="prefetch" href="/blog/assets/006_llm_leaderboard.html-tjDhyqqg.js" as="script"><link rel="prefetch" href="/blog/assets/007_computer_use.html-PmSShFwU.js" as="script"><link rel="prefetch" href="/blog/assets/008_rag_challenge.html-5A2OapDf.js" as="script"><link rel="prefetch" href="/blog/assets/009_llm_challenge.html-3GM5jEIE.js" as="script"><link rel="prefetch" href="/blog/assets/010_rag_workflow.html-XYT0vI99.js" as="script"><link rel="prefetch" href="/blog/assets/011_vector_database.html-SH1IYv71.js" as="script"><link rel="prefetch" href="/blog/assets/012_prompt_engineering.html-DOCaN6LF.js" as="script"><link rel="prefetch" href="/blog/assets/013_optimizing_llm.html-JyhYWkXV.js" as="script"><link rel="prefetch" href="/blog/assets/014_rag_evaluation.html--s81XxS7.js" as="script"><link rel="prefetch" href="/blog/assets/015_fine_tune.html-YA_OWC4N.js" as="script"><link rel="prefetch" href="/blog/assets/016_multimodal.html-8IWHQue4.js" as="script"><link rel="prefetch" href="/blog/assets/017_agent_and_multiagent.html-64kGGVnB.js" as="script"><link rel="prefetch" href="/blog/assets/018_huggingface.html-XJ95E1IM.js" as="script"><link rel="prefetch" href="/blog/assets/019_ollama.html-sah4C7xQ.js" as="script"><link rel="prefetch" href="/blog/assets/020_neo4j.html-JpaDBsAt.js" as="script"><link rel="prefetch" href="/blog/assets/021_microsoft_graphrag.html-hUoWWy6l.js" as="script"><link rel="prefetch" href="/blog/assets/022_llamaindex_graphrag.html-CLlvo4HT.js" as="script"><link rel="prefetch" href="/blog/assets/023_agent_framework.html-rCdaAY1f.js" as="script"><link rel="prefetch" href="/blog/assets/024_distribution_and_parallelism.html-gPszSXFT.js" as="script"><link rel="prefetch" href="/blog/assets/025_distribution_and_parallelism_1.html-6mgXK1Yd.js" as="script"><link rel="prefetch" href="/blog/assets/026_distribution_and_parallelism_2.html-reBsfFkc.js" as="script"><link rel="prefetch" href="/blog/assets/027_distribution_and_parallelism_3.html-2KQ1U9Qn.js" as="script"><link rel="prefetch" href="/blog/assets/028_distribution_and_parallelism_4.html-LsSPEO5A.js" as="script"><link rel="prefetch" href="/blog/assets/029_unsloth_grpo.html-8Ny5DQ54.js" as="script"><link rel="prefetch" href="/blog/assets/030_wandb.html-_O7ft4BV.js" as="script"><link rel="prefetch" href="/blog/assets/031_qlora.html-xQEGzl_5.js" as="script"><link rel="prefetch" href="/blog/assets/032_sft_trainer_sourcecode_prepare_model.html-GNQmc2Q6.js" as="script"><link rel="prefetch" href="/blog/assets/033_sft_trainer_sourcecode_prepare_dataset.html-zbyqC5Le.js" as="script"><link rel="prefetch" href="/blog/assets/034_sft_trainer_sourcecode_prepare_train.html-BoPevXCY.js" as="script"><link rel="prefetch" href="/blog/assets/035_easyr1_verl_ray_qwenvl_grpo.html-JQ1emjhu.js" as="script"><link rel="prefetch" href="/blog/assets/036_mcp.html-HnfW5tQL.js" as="script"><link rel="prefetch" href="/blog/assets/037_ai_code_editor.html-xzhf6wyJ.js" as="script"><link rel="prefetch" href="/blog/assets/038_bert_colbert_colpali.html-w_3pYWzA.js" as="script"><link rel="prefetch" href="/blog/assets/039_n8n.html-4NyRuDAr.js" as="script"><link rel="prefetch" href="/blog/assets/040_mem0.html-eYYcjxrs.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-SffylqlS.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-Y9nM5OG6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-vSMuxGtY.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ZqVxB9Ur.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ih3ZucEX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-mFmfHGfu.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-gmEVw6P0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-RrV-ewOw.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-pw8Wzupj.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Fa65E6_6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-VU6sixlX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-clSNZP62.js" as="script"><link rel="prefetch" href="/blog/assets/index.html--QnTDiKh.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-jWgCsuta.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ufJpmpB-.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-RPbQXUKK.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ojl26XOP.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-enY_y-Z7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-usma77hl.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-L5LVHBi2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-zIhRPkG6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-QJEY1sxO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-WDcNkNBb.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-gXci25I7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-koPVpySv.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3fr5CFNa.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-uyO5TSEL.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-pnJrTZ1Q.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-FVpi29wB.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3X0Zvs5V.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9ydvgI2Y.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-58M8mkF7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-y-MI1kYA.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-YYjVIL3m.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-qqAVzTa8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Yt1SHZKe.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-WxbgWZPo.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-R0c05Wzi.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Yt9sxyr3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-QmMgNqgk.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Tm7zsq6P.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BTeJib9P.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1SugMwfH.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-HzLJu8yH.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-pFhMkNse.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0PWqg2g7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-WeIAzLUu.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-JIlZfkMR.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-yNyVlCVr.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-s7ykmk3S.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-tXqEnCqQ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-JIdModEO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0pKJfXPX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ZTIVKWqP.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-eYOXqm4a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-C4FwIKPw.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-lswbiQfy.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-K8UKBFAQ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-_EiBjCTO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-T5t2RguT.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-H5riO2im.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ZagUy1pn.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-MoY3kweC.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DeJfStii.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-mENVqtOr.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7IRv--ph.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1l7RkthZ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-nAHJ9xfV.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-lVaL3P-4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1kXzHzrh.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-E1tb_8ZO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4LfL6OjK.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0ZRcvtHz.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-mo0VbA3-.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-qPJkk4GU.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CS1Qk2D6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-rVKsFHZf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-mhKWLmri.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9bTGHT9t.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-J9bu0gbO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-myGouVHM.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-YOb5kSwz.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f__y1T-4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5tjkW6s_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CQcps4OQ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-60P1XWwJ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Y-DFBFm4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-S7DG3s8q.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CFcsaBYN.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7TUdt1JY.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-TrwuISyv.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-fsSIjQZV.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-760KF0yM.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-D-qrZolg.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3ZoIaoYw.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-H-vN5tcq.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-440d7DiK.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-AaeTqZbY.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-HtM0byKK.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-QECOv-AZ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9oUfBYTh.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4keKoiWt.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-yZpeM1-t.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-H8Q4kDUX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-EodNNspj.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DqIcv0rR.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-VyCaG-u2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-u7ZUDNP6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1JyoscMX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-PgZnAHAu.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-xrFc4L-y.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-POAQnXeO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-VbF0z7-F.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-sAhic2Lr.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Jb3Rr8s_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Od6za6sO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-GyarEPhA.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-zjPyPybr.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-SGPlaGsi.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-omzNW9H7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-zyhkCUKl.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-B30yRW_v.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-WDxZs-aF.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9FQNcvfP.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-iVs633pQ.js" as="script"><link rel="prefetch" href="/blog/assets/photoswipe.esm-08_zHRDQ.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/blog/"><img class="vp-nav-logo" src="/blog/blogger.png" alt><!----><span class="vp-site-name hide-in-pad">Liz</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="Home" class="vp-link nav-link nav-link" href="/blog/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Project" class="vp-link nav-link nav-link" href="/blog/demo/"><span class="font-icon icon fa-fw fa-sm fas fa-star" style=""></span>Project<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="Select language"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="English" class="vp-link nav-link active nav-link active" href="/blog/posts/llm/036_mcp.html"><!---->English<!----></a></li><li class="dropdown-item"><a aria-label="ç®€ä½“ä¸­æ–‡" class="vp-link nav-link nav-link" href="/blog/zh/posts/llm/036_mcp.html"><!---->ç®€ä½“ä¸­æ–‡<!----></a></li></ul></button></div></div><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/liz-in-tech" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>MCP Technical Overview</h1><div class="page-info"><span class="page-author-info" aria-label="AuthorðŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/liz-in-tech" target="_blank" rel="noopener noreferrer">Liz</a></span><span property="author" content="Liz"></span></span><!----><span class="page-date-info" aria-label="Writing DateðŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2025-04-23T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 8 min</span><meta property="timeRequired" content="PT8M"></span><span class="page-category-info" aria-label="CategoryðŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category6 clickable" role="navigation">LLM</span><!--]--><meta property="articleSection" content="LLM"></span><span class="page-tag-info" aria-label="TagðŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag8 clickable" role="navigation">MCP</span><!--]--><meta property="keywords" content="MCP"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-what-is-mcp">1. What is MCP?</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-ai-tool-invocation-evolution">2. AI Tool Invocation Evolution</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3-what-s-the-difference-before-and-after-mcp-why-does-it-matter">3. What&#39;s the Difference Before and After MCP? Why Does It Matter?</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_4-mcp-vs-function-calling">4. MCP vs Function Calling</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_5-mcp-architecture">5. MCP Architecture</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_6-core-components-of-mcp">6. Core Components of MCP</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_7-mcp-connection-lifecycle">7. MCP Connection Lifecycle</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_7-1-initialization">7.1 Initialization</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_7-2-message-exchange">7.2 Message Exchange</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_7-3-termination">7.3 Termination</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_8-mcp-function-types">8. MCP Function Types</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_9-standard-protocols-for-different-mcp-function-types">9. Standard Protocols for Different MCP Function Types</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_9-1-resources">9.1. Resources</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_9-2-prompts">9.2. Prompts</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_9-3-tools">9.3. Tools</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_9-4-sampling">9.4. Sampling</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_10-mcp-client">10. MCP Client</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_10-1-cursor-as-an-mcp-client">10.1 Cursor as an MCP Client</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_11-mcp-server">11. MCP Server</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_12-how-different-roles-use-mcp">12. How Different Roles Use MCP</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_13-example-mcp-client-user-experience-claude-desktop-app">13. Example: MCP Client User Experience (Claude Desktop App)</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_13-1-configure-mcp-server-in-claude-desktop-app">13.1. Configure MCP Server in Claude Desktop App</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_13-2-view-available-tools-in-claude-desktop-app">13.2. View Available Tools in Claude Desktop App</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_13-3-ask-related-questions-in-claude-desktop-app">13.3. Ask Related Questions in Claude Desktop App</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_14-example-building-an-mcp-server">14. Example: Building an MCP Server</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_14-1-instantiate-the-mcp-server">14.1. Instantiate the MCP Server</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_14-2-define-tools-and-implement-tool-logic">14.2. Define Tools and Implement Tool Logic</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_14-3-run-the-mcp-server">14.3. Run the MCP Server</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_15-example-building-an-mcp-client">15. Example: Building an MCP Client</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_15-1-create-env-file">15.1. Create .env File</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_15-2-define-mcpclient-class">15.2. Define MCPClient Class</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_15-3-implement-server-connection-management-connect-to-server">15.3. Implement Server Connection Management: connect_to_server</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_15-4-implement-query-and-tool-invocation-handler-process-query">15.4. Implement Query and Tool Invocation Handler: process_query</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_15-5-define-chat-loop-and-cleanup-functions">15.5. Define chat_loop and cleanup Functions</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_15-6-main-entry-point">15.6. Main Entry Point</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="mcp-technical-overview" tabindex="-1"><a class="header-anchor" href="#mcp-technical-overview" aria-hidden="true">#</a> MCP Technical Overview</h1><ul><li>Concept, Evolution, and Significance of MCP</li><li>MCP Architecture, Core Components, and Function Types</li><li>MCP Client and MCP Server</li><li>How Different Roles Use MCP</li></ul><!-- more --><h2 id="_1-what-is-mcp" tabindex="-1"><a class="header-anchor" href="#_1-what-is-mcp" aria-hidden="true">#</a> 1. What is MCP?</h2><p>MCP (Model Context Protocol) is an emerging <strong>standard open protocol</strong> launched by Anthropic (the company behind Claude) to address the pain points in <strong>AI model and external tool interactions</strong> on Agent platforms. It helps you build intelligent agents and complex workflows on top of LLMs. MCP standardizes how applications provide context to AI models and aims to enhance model interaction with tools and data sources through secure bi-directional connections.</p><p>Think of MCP as the USB-C for AI applications. Just as USB-C standardizes how devices connect to peripherals, MCP standardizes how AI models connect to diverse tools and data sources.</p><p>The MCP Server exists to automate AI Agents. It is a middleware layer that informs the AI Agent about available services, APIs, and data sources. The Agent then decides which to invoke and performs function calls accordingly. In the past, every tool needed custom code to connect with AI. With MCP, tools and AIs can &quot;talk&quot; directly using a shared pluginâ€”like a universal interface.</p><p>For example, to use GitHub, you ultimately call its official API (https://api.github.com). Before calling it, MCP describes to the AI what capabilities the server provides, what parameters are needed, and what results can be expected. MCP Server itself is not a magical inventionâ€”itâ€™s simply a consensus-driven protocol.</p><p>Website: https://modelcontextprotocol.io/introduction</p><p>GitHub: https://github.com/modelcontextprotocol</p><h2 id="_2-ai-tool-invocation-evolution" tabindex="-1"><a class="header-anchor" href="#_2-ai-tool-invocation-evolution" aria-hidden="true">#</a> 2. AI Tool Invocation Evolution</h2><p>The technical evolution path from complex prompts â†’ Function Calling â†’ GPTs plugins â†’ MCP protocol is quite similar to the standardization process of several classic technologies â€” especially Web technologies, Internet protocols, and API standardization. This process can be compared to the standardization journey of Web APIs:</p><table><thead><tr><th>Web API Evolution</th><th>AI Tool Invocation Evolution</th></tr></thead><tbody><tr><td>Early Stage: RPC (Remote Procedure Call), various implementations</td><td>Early Stage: Tool invocation via prompt engineering</td></tr><tr><td>Development Stage: Frameworks like SOAP and XML-RPC</td><td>Development Stage: Structured Function Calling using JSON</td></tr><tr><td>Maturity Stage: REST API becomes mainstream</td><td>Maturity Stage: Platform-specific implementations like GPTs</td></tr><tr><td>Unification Stage: New standards like GraphQL</td><td>Unification Stage: MCP as a unified protocol</td></tr></tbody></table><h2 id="_3-what-s-the-difference-before-and-after-mcp-why-does-it-matter" tabindex="-1"><a class="header-anchor" href="#_3-what-s-the-difference-before-and-after-mcp-why-does-it-matter" aria-hidden="true">#</a> 3. What&#39;s the Difference Before and After MCP? Why Does It Matter?</h2><ul><li>Before MCP: Agent platforms had to <strong>maintain a list of available tools</strong> themselves and <strong>handle tool invocation logic</strong> manually</li><li>After MCP: Both <strong>tool list management</strong> and <strong>invocation logic</strong> are handled by MCP.</li></ul><p>Significance:</p><ul><li>MCP solves the problem of inconsistent tool invocation standards across Agent platforms. MCP Servers expose APIs as MCP tools that any Agent platform can useâ€”eliminating redundant work and significantly lowering development costs.</li><li>MCP improves context-awareness, automation, and security through a standardized client-server protocol.</li><li>Its modular design allows one client to connect to multiple servers, unlocking diverse functionality easily.</li></ul><h2 id="_4-mcp-vs-function-calling" tabindex="-1"><a class="header-anchor" href="#_4-mcp-vs-function-calling" aria-hidden="true">#</a> 4. MCP vs Function Calling</h2><p>Functionality Layers:</p><ul><li><strong>MCP:</strong> Connection Layer</li><li><strong>Function Calling:</strong> Execution Layer</li><li><strong>AI Agent:</strong> Decision Layer</li></ul><p>Use Case Differences:</p><ul><li><strong>MCP:</strong> When connecting many tools without writing a lot of custom code</li><li><strong>Function Calling:</strong> Automating simple tasks</li><li><strong>AI Agent:</strong> Making autonomous decisions</li></ul><h2 id="_5-mcp-architecture" tabindex="-1"><a class="header-anchor" href="#_5-mcp-architecture" aria-hidden="true">#</a> 5. MCP Architecture</h2><p>MCP adopts a client-server architecture.</p><p><img src="/blog/assets/036_mcp_architecture-71F2mv7G.png" alt="" loading="lazy"><br><img src="/blog/assets/036_mcp_architecture_1--5txWweg.png" alt="" loading="lazy"><br><img src="/blog/assets/036_mcp_architecture_2-WK7AHT0Z.png" alt="" loading="lazy"></p><h2 id="_6-core-components-of-mcp" tabindex="-1"><a class="header-anchor" href="#_6-core-components-of-mcp" aria-hidden="true">#</a> 6. Core Components of MCP</h2><p>Core Components:</p><ul><li><strong>Host:</strong><br> The application (e.g., Claude Desktop or IDEs) that initiates the connection.</li><li><strong>Client:</strong><br> Resides inside the host application and connects 1:1 with a server.</li><li><strong>Server:</strong><br> Provides context, tools, and prompts to the client.</li><li><strong>Protocol Layer:</strong><br> Handles message packaging, request/response linking, and high-level communication patterns.</li><li><strong>Transport Layer:</strong><br> Manages actual communication between Client and Server.</li></ul><p>MCP supports multiple transport mechanisms. All use JSON-RPC 2.0 for message exchange:</p><p>Transport Types:</p><ul><li><strong>Stdio Transport:</strong><br> Uses standard input/output; suited for local processes.</li><li><strong>HTTP with SSE Transport:</strong><ul><li>Server â†’ Client: via Server-Sent Events (SSE)</li><li>Client â†’ Server: via HTTP POST</li></ul></li></ul><p>Message Types:</p><ul><li>Requests</li><li>Results</li><li>Errors</li><li>Notifications</li></ul><h2 id="_7-mcp-connection-lifecycle" tabindex="-1"><a class="header-anchor" href="#_7-mcp-connection-lifecycle" aria-hidden="true">#</a> 7. MCP Connection Lifecycle</h2><h3 id="_7-1-initialization" tabindex="-1"><a class="header-anchor" href="#_7-1-initialization" aria-hidden="true">#</a> 7.1 Initialization</h3><figure><img src="/blog/assets/036_mcp_init-vmdDiGYp.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_7-2-message-exchange" tabindex="-1"><a class="header-anchor" href="#_7-2-message-exchange" aria-hidden="true">#</a> 7.2 Message Exchange</h3><ul><li>Either side can send requests, with the other responding.</li><li>Either side can send one-way notifications.</li></ul><h3 id="_7-3-termination" tabindex="-1"><a class="header-anchor" href="#_7-3-termination" aria-hidden="true">#</a> 7.3 Termination</h3><p>Either party can terminate the connection.</p><h2 id="_8-mcp-function-types" tabindex="-1"><a class="header-anchor" href="#_8-mcp-function-types" aria-hidden="true">#</a> 8. MCP Function Types</h2><p>MCP Servers expose three main function types:</p><ul><li>Tools <ul><li>Executable by LLMs</li><li>Common Tool Types:</li><li><strong>System Operations:</strong> Interact with local systems</li><li><strong>API Integrations:</strong> Wrap external APIs</li><li><strong>Data Processing:</strong> Transform or analyze data</li><li>Docs: https://modelcontextprotocol.io/docs/concepts/tools#python</li></ul></li><li>Resources <ul><li>Any data type readable by LLMs</li><li>Identified via unique URIs; may contain text or binary data</li><li>Resource Types:</li><li><strong>Text Resources:</strong><br> UTF-8 encoded text. Suitable for: <ul><li>Source code</li><li>Config files</li><li>Logs</li><li>JSON/XML</li><li>Plain text</li></ul></li><li><strong>Binary Resources:</strong><br> Base64-encoded binary data. Suitable for: <ul><li>Images</li><li>PDFs</li><li>Audio/Video files</li><li>Other non-text formats</li></ul></li><li>Docs: https://modelcontextprotocol.io/docs/concepts/resources</li></ul></li><li>Prompts <ul><li>Pre-written reusable templates and workflows to assist in specific tasks</li><li>Docs: https://modelcontextprotocol.io/docs/concepts/prompts</li></ul></li></ul><p>Additional Functions</p><ul><li>Sampling <ul><li>Server invokes the LLM hosted on the client side</li><li>https://modelcontextprotocol.io/docs/concepts/sampling</li></ul></li><li>Roots <ul><li>Define the operational scope for the server</li><li>e.g., a workspace that the client uses and informs the server about</li><li>Common Uses: <ul><li>Project directories</li><li>Repo locations</li><li>API endpoints</li><li>Config locations</li><li>Resource boundaries</li></ul></li><li>https://modelcontextprotocol.io/docs/concepts/roots</li></ul></li></ul><h2 id="_9-standard-protocols-for-different-mcp-function-types" tabindex="-1"><a class="header-anchor" href="#_9-standard-protocols-for-different-mcp-function-types" aria-hidden="true">#</a> 9. Standard Protocols for Different MCP Function Types</h2><h3 id="_9-1-resources" tabindex="-1"><a class="header-anchor" href="#_9-1-resources" aria-hidden="true">#</a> 9.1. Resources</h3><p>Resources URIs</p><ul><li>Each Resource is defined according to the following standard</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[protocol]://[host]/[path]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_9-2-prompts" tabindex="-1"><a class="header-anchor" href="#_9-2-prompts" aria-hidden="true">#</a> 9.2. Prompts</h3><p>Prompt Structure</p><ul><li>Each Prompt is defined according to the following standard</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
  name: string;              // Unique identifier for the prompt
  description?: string;      // Human-readable description
  arguments?: [              // Optional list of arguments
    {
      name: string;          // Argument identifier
      description?: string;  // Argument description
      required?: boolean;    // Whether argument is required
    }
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-3-tools" tabindex="-1"><a class="header-anchor" href="#_9-3-tools" aria-hidden="true">#</a> 9.3. Tools</h3><p>Tool definition structure</p><ul><li>Each Tool is defined according to the following standard</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
  name: string;          // Unique identifier for the tool
  description?: string;  // Human-readable description
  inputSchema: {         // JSON Schema for the tool&#39;s parameters
    type: &quot;object&quot;,
    properties: { ... }  // Tool-specific parameters
  },
  annotations?: {        // Optional hints about tool behavior
    title?: string;      // Human-readable title for the tool
    readOnlyHint?: boolean;    // If true, the tool does not modify its environment
    destructiveHint?: boolean; // If true, the tool may perform destructive updates
    idempotentHint?: boolean;  // If true, repeated calls with same args have no additional effect
    openWorldHint?: boolean;   // If true, tool interacts with external entities
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-4-sampling" tabindex="-1"><a class="header-anchor" href="#_9-4-sampling" aria-hidden="true">#</a> 9.4. Sampling</h3><p>Message format</p><ul><li>Each Sampling request initiated by the server follows the same standard.</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
  messages: [
    {
      role: &quot;user&quot; | &quot;assistant&quot;,
      content: {
        type: &quot;text&quot; | &quot;image&quot;,

        // For text:
        text?: string,

        // For images:
        data?: string,             // base64 encoded
        mimeType?: string
      }
    }
  ],
  modelPreferences?: {
    hints?: [{
      name?: string                // Suggested model name/family
    }],
    costPriority?: number,         // 0-1, importance of minimizing cost
    speedPriority?: number,        // 0-1, importance of low latency
    intelligencePriority?: number  // 0-1, importance of capabilities
  },
  systemPrompt?: string,
  includeContext?: &quot;none&quot; | &quot;thisServer&quot; | &quot;allServers&quot;,
  temperature?: number,
  maxTokens: number,
  stopSequences?: string[],
  metadata?: Record&lt;string, unknown&gt;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Response format</p><ul><li>Each Sampling result returned by the client also follows the same standard.</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
  model: string,  // Name of the model used
  stopReason?: &quot;endTurn&quot; | &quot;stopSequence&quot; | &quot;maxTokens&quot; | string,
  role: &quot;user&quot; | &quot;assistant&quot;,
  content: {
    type: &quot;text&quot; | &quot;image&quot;,
    text?: string,
    data?: string,
    mimeType?: string
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_10-mcp-client" tabindex="-1"><a class="header-anchor" href="#_10-mcp-client" aria-hidden="true">#</a> 10. MCP Client</h2><p>Popular MCP Clients</p><ul><li>For Non-Engineers <ul><li>Claude Desktop App <ul><li>Official product by Anthropic that integrates local tools and data sources using MCP. Suitable for both technical and non-technical users.</li><li>https://claude.ai/download</li></ul></li><li>LibreChat <ul><li>Open-source chat application with MCP tool integration support</li><li>https://github.com/danny-avila/LibreChat</li></ul></li></ul></li><li>For Engineers <ul><li>Cursor <ul><li>AI-powered code editor, early adopter of MCP, ideal for developers</li><li>https://www.cursor.com/</li></ul></li><li>Cline <ul><li>Open-source VSCode extension that supports the MCP marketplace and custom servers</li><li>https://github.com/cline/cline</li></ul></li><li>Continue <ul><li>VSCode and JetBrains extension that supports full MCP functionality</li><li>https://github.com/continuedev/continue</li></ul></li><li>Zed <ul><li>High-performance code editor with MCP extension support</li><li>https://zed.dev/</li></ul></li><li>Windsurf Editor <ul><li>AI-driven code editor that supports the MCP protocol</li><li>https://windsurf.com/editor</li></ul></li><li>Sourcegraph Cody <ul><li>AI coding assistant with MCP configuration support</li><li>https://sourcegraph.com/cody</li></ul></li></ul></li></ul><p>Once an application integrates MCP support (i.e., becomes an MCP Client), it can provide users with powerful AI context capabilities, enabling seamless interaction between the AI model and the MCP Server.</p><p>Different clients may support different MCP functions, so the level of integration with MCP servers may vary.</p><table><thead><tr><th>Client</th><th>Resources</th><th>Prompts</th><th>Tools</th><th>Sampling</th><th>Roots</th><th>Notes</th></tr></thead><tbody><tr><td>Claude Desktop App</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>Supports tools, prompts, and resources.</td></tr><tr><td>LibreChat</td><td>âŒ</td><td>âŒ</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>Supports tools for Agents</td></tr><tr><td>Cursor</td><td>âŒ</td><td>âŒ</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>Supports tools.</td></tr><tr><td>Cline</td><td>âœ…</td><td>âŒ</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>Supports tools and resources.</td></tr><tr><td>Continue</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>Supports tools, prompts, and resources.</td></tr><tr><td>Zed</td><td>âŒ</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>Prompts appear as slash commands</td></tr><tr><td>Windsurf Editor</td><td>âŒ</td><td>âŒ</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>Supports tools with AI Flow for collaborative development.</td></tr><tr><td>Sourcegraph Cody</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>Supports resources through OpenCTX</td></tr></tbody></table><p>More:</p><ul><li>Official client listï¼šhttps://modelcontextprotocol.io/clients</li><li>PulseMCP client listï¼šhttps://www.pulsemcp.com/clients</li></ul><h3 id="_10-1-cursor-as-an-mcp-client" tabindex="-1"><a class="header-anchor" href="#_10-1-cursor-as-an-mcp-client" aria-hidden="true">#</a> 10.1 Cursor as an MCP Client</h3><p>Cursorâ€™s guide to MCP configuration: https://docs.cursor.com/context/model-context-protocol</p><p>With MCP, Cursor can connect to external tools or data sources, eliminating the need for users to explain external context via prompts.</p><p>Example:</p><figure><img src="/blog/assets/036_cursor_mcpserver_examples-94WA0m48.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Transport Mechanism:</p><figure><img src="/blog/assets/036_cursor_mcp_transport-Znsz1cia.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_11-mcp-server" tabindex="-1"><a class="header-anchor" href="#_11-mcp-server" aria-hidden="true">#</a> 11. MCP Server</h2><ul><li>Official MCP Servers <ul><li>https://github.com/modelcontextprotocol/servers</li><li>https://modelcontextprotocol.io/examples</li></ul></li><li>Cursor MCP Servers <ul><li>https://cursor.directory/mcp</li></ul></li><li>Curated by punkpeye: https://github.com/punkpeye/awesome-mcp-servers/blob/main/README-zh.md</li><li>Clineâ€™s MCP Marketplace</li><li>https://smithery.ai/</li><li>https://www.pulsemcp.com/</li><li>http://glama.ai/mcp/servers</li></ul><p>Useful MCP Tools</p><ul><li><strong>Data and File Systems</strong><ul><li><strong>Filesystem</strong><ul><li>Provides secure file operations with configurable access controls to ensure safe and compliant access.</li></ul></li><li><strong>PostgreSQL</strong><ul><li>Offers read-only database access with schema introspection.</li></ul></li></ul></li><li><strong>Development Tools</strong><ul><li><strong>GitHub</strong><ul><li>Enables repository management and file operations with integrated GitHub API support.</li></ul></li><li><strong>Git</strong><ul><li>Tools for reading, searching, and manipulating Git repositories, helping developers manage version control.</li></ul></li></ul></li><li><strong>Web Crawlers</strong><ul><li><strong>Firecrawl</strong>: Clone websites.</li></ul></li><li><strong>Networking and Browser Automation</strong><ul><li><strong>Brave Search</strong>: Uses Brave&#39;s API for web and local search.</li><li><strong>Fetch</strong>: Web content retrieval and transformation optimized for LLMs.</li><li><strong>Puppeteer</strong>: Provides browser automation and web scraping.</li><li><strong>Playwright</strong>: Browser control <ul><li>Automates browser tasks like form filling, screenshots, and navigation.</li><li>Executes JavaScript, monitors console logs.</li><li>Seamless integration between LLMs and browsers.</li><li>Also useful for API testing.</li></ul></li></ul></li></ul><h2 id="_12-how-different-roles-use-mcp" tabindex="-1"><a class="header-anchor" href="#_12-how-different-roles-use-mcp" aria-hidden="true">#</a> 12. How Different Roles Use MCP</h2><ul><li>MCP Client Users (e.g., users of Claude Desktop App or Cursor) <ul><li>Just add the desired MCP Server in the config, then simply ask questions as usual</li></ul></li><li>MCP Client Developers (e.g., developers of Claude Desktop App or Cursor) <ul><li>Instantiate the MCP Client</li><li>Establish connection between MCP Client and MCP Server</li><li>For each user query, execute the following logic (tool listing and tool invocation is handled by MCP): <ul><li>Format the user&#39;s query as <code>messages</code></li><li><strong>MCP Client fetches the available tool list (<code>available_tools</code>)</strong></li><li>Calls the LLM with <code>messages</code> and <code>available_tools</code> as input</li><li>The LLM may respond with either: <ul><li><code>text</code>: return the result directly to the user</li><li><code>tool_use</code>: <ul><li><strong>MCP Client invokes the selected tool via the MCP Server</strong></li><li>Get the result of the tool invocation</li><li>Append the original query (<code>role: &quot;user&quot;</code>), LLM response (<code>role: &quot;assistant&quot;</code>), and tool result (<code>role: &quot;user&quot;</code>) into a new <code>messages</code> list</li><li>Call the LLM again with the new <code>messages</code> and <code>available_tools</code></li><li>Return the final response to the user</li></ul></li></ul></li></ul></li></ul></li><li>MCP Server Developers <ul><li>Instantiate an MCP Server</li><li>Define tools and implement their logic</li><li>Run the MCP Server</li></ul></li></ul><figure><img src="/blog/assets/036_mcp_logic-favu6yUw.png" alt="MCP Usage Logic" tabindex="0" loading="lazy"><figcaption>MCP Usage Logic</figcaption></figure><h2 id="_13-example-mcp-client-user-experience-claude-desktop-app" tabindex="-1"><a class="header-anchor" href="#_13-example-mcp-client-user-experience-claude-desktop-app" aria-hidden="true">#</a> 13. Example: MCP Client User Experience (Claude Desktop App)</h2><h3 id="_13-1-configure-mcp-server-in-claude-desktop-app" tabindex="-1"><a class="header-anchor" href="#_13-1-configure-mcp-server-in-claude-desktop-app" aria-hidden="true">#</a> 13.1. Configure MCP Server in Claude Desktop App</h3><p>Add a new MCP Server called <code>&quot;weather&quot;</code> under the <code>mcpServers</code> config item</p><ul><li>This tells Claude Desktop App that a server named <code>&quot;weather&quot;</code> is available</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    &quot;mcpServers&quot;: {
        &quot;weather&quot;: {
            &quot;command&quot;: &quot;uv&quot;,
            &quot;args&quot;: [
                &quot;--directory&quot;,
                &quot;/ABSOLUTE/PATH/TO/PARENT/FOLDER/weather&quot;,
                &quot;run&quot;,
                &quot;weather.py&quot;
            ]
        }
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>After saving, restart Claude Desktop App</p><h3 id="_13-2-view-available-tools-in-claude-desktop-app" tabindex="-1"><a class="header-anchor" href="#_13-2-view-available-tools-in-claude-desktop-app" aria-hidden="true">#</a> 13.2. View Available Tools in Claude Desktop App</h3><p>Users can view all tools provided by all configured MCP Servers, including:</p><ul><li>Tool name</li><li>Description</li><li>Which MCP Server it comes from</li></ul><h3 id="_13-3-ask-related-questions-in-claude-desktop-app" tabindex="-1"><a class="header-anchor" href="#_13-3-ask-related-questions-in-claude-desktop-app" aria-hidden="true">#</a> 13.3. Ask Related Questions in Claude Desktop App</h3><ul><li>The user submits a query</li><li>Claude checks available tools and decides whether and which one to use</li><li>If an MCP tool is selected, the MCP Client executes the tool via the MCP Server</li><li>Execution result is returned to Claude</li><li>Claude converts the result into natural language</li><li>The user receives the response</li></ul><h2 id="_14-example-building-an-mcp-server" tabindex="-1"><a class="header-anchor" href="#_14-example-building-an-mcp-server" aria-hidden="true">#</a> 14. Example: Building an MCP Server</h2><p>The following code creates an MCP Server named <code>&quot;weather&quot;</code> with two tools: <code>get-alerts</code> and <code>get-forecast</code>.</p><h3 id="_14-1-instantiate-the-mcp-server" tabindex="-1"><a class="header-anchor" href="#_14-1-instantiate-the-mcp-server" aria-hidden="true">#</a> 14.1. Instantiate the MCP Server</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mcp = FastMCP(&quot;weather&quot;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_14-2-define-tools-and-implement-tool-logic" tabindex="-1"><a class="header-anchor" href="#_14-2-define-tools-and-implement-tool-logic" aria-hidden="true">#</a> 14.2. Define Tools and Implement Tool Logic</h3><ul><li>Add <code>@mcp.tool()</code> to define a function as an MCP tool</li><li>No need to manually define an API to list available tools</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@mcp.tool()
async def get_alerts(state: str) -&gt; str:
    &quot;&quot;&quot;Get weather alerts for a US state.

    Args:
        state: Two-letter US state code (e.g. CA, NY)
    &quot;&quot;&quot;
    pass

@mcp.tool()
async def get_forecast(latitude: float, longitude: float) -&gt; str:
    &quot;&quot;&quot;Get weather forecast for a location.

    Args:
        latitude: Latitude of the location
        longitude: Longitude of the location
    &quot;&quot;&quot;
    pass
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-3-run-the-mcp-server" tabindex="-1"><a class="header-anchor" href="#_14-3-run-the-mcp-server" aria-hidden="true">#</a> 14.3. Run the MCP Server</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mcp.run(transport=&#39;stdio&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_15-example-building-an-mcp-client" tabindex="-1"><a class="header-anchor" href="#_15-example-building-an-mcp-client" aria-hidden="true">#</a> 15. Example: Building an MCP Client</h2><h3 id="_15-1-create-env-file" tabindex="-1"><a class="header-anchor" href="#_15-1-create-env-file" aria-hidden="true">#</a> 15.1. Create <code>.env</code> File</h3><p>set Anthropic API key</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ANTHROPIC_API_KEY=&lt;your key here&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_15-2-define-mcpclient-class" tabindex="-1"><a class="header-anchor" href="#_15-2-define-mcpclient-class" aria-hidden="true">#</a> 15.2. Define <code>MCPClient</code> Class</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>load_dotenv()  # load environment variables from .env

class MCPClient:
    def __init__(self):
        # Initialize session and client objects
        self.session: Optional[ClientSession] = None
        self.exit_stack = AsyncExitStack()
        self.anthropic = Anthropic()
    # methods will go here
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-3-implement-server-connection-management-connect-to-server" tabindex="-1"><a class="header-anchor" href="#_15-3-implement-server-connection-management-connect-to-server" aria-hidden="true">#</a> 15.3. Implement Server Connection Management: <code>connect_to_server</code></h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>async def connect_to_server(self, server_script_path: str):
    &quot;&quot;&quot;Connect to an MCP server

    Args:
        server_script_path: Path to the server script (.py or .js)
    &quot;&quot;&quot;
    is_python = server_script_path.endswith(&#39;.py&#39;)
    is_js = server_script_path.endswith(&#39;.js&#39;)
    if not (is_python or is_js):
        raise ValueError(&quot;Server script must be a .py or .js file&quot;)

    command = &quot;python&quot; if is_python else &quot;node&quot;
    server_params = StdioServerParameters(
        command=command,
        args=[server_script_path],
        env=None
    )

    stdio_transport = await self.exit_stack.enter_async_context(stdio_client(server_params))
    self.stdio, self.write = stdio_transport
    self.session = await self.exit_stack.enter_async_context(ClientSession(self.stdio, self.write))

    await self.session.initialize()

    # List available tools
    response = await self.session.list_tools()
    tools = response.tools
    print(&quot;\nConnected to server with tools:&quot;, [tool.name for tool in tools])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-4-implement-query-and-tool-invocation-handler-process-query" tabindex="-1"><a class="header-anchor" href="#_15-4-implement-query-and-tool-invocation-handler-process-query" aria-hidden="true">#</a> 15.4. Implement Query and Tool Invocation Handler: <code>process_query</code></h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>async def process_query(self, query: str) -&gt; str:
    &quot;&quot;&quot;Process a query using Claude and available tools&quot;&quot;&quot;
    messages = [
        {
            &quot;role&quot;: &quot;user&quot;,
            &quot;content&quot;: query
        }
    ]

    response = await self.session.list_tools()
    available_tools = [{
        &quot;name&quot;: tool.name,
        &quot;description&quot;: tool.description,
        &quot;input_schema&quot;: tool.inputSchema
    } for tool in response.tools]

    # Initial Claude API call
    response = self.anthropic.messages.create(
        model=&quot;claude-3-5-sonnet-20241022&quot;,
        max_tokens=1000,
        messages=messages,
        tools=available_tools
    )

    # Process response and handle tool calls
    final_text = []

    assistant_message_content = []
    for content in response.content:
        if content.type == &#39;text&#39;:
            final_text.append(content.text)
            assistant_message_content.append(content)
        elif content.type == &#39;tool_use&#39;:
            tool_name = content.name
            tool_args = content.input

            # Execute tool call
            result = await self.session.call_tool(tool_name, tool_args)
            final_text.append(f&quot;[Calling tool {tool_name} with args {tool_args}]&quot;)

            assistant_message_content.append(content)
            messages.append({
                &quot;role&quot;: &quot;assistant&quot;,
                &quot;content&quot;: assistant_message_content
            })
            messages.append({
                &quot;role&quot;: &quot;user&quot;,
                &quot;content&quot;: [
                    {
                        &quot;type&quot;: &quot;tool_result&quot;,
                        &quot;tool_use_id&quot;: content.id,
                        &quot;content&quot;: result.content
                    }
                ]
            })

            # Get next response from Claude
            response = self.anthropic.messages.create(
                model=&quot;claude-3-5-sonnet-20241022&quot;,
                max_tokens=1000,
                messages=messages,
                tools=available_tools
            )

            final_text.append(response.content[0].text)

    return &quot;\n&quot;.join(final_text)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-5-define-chat-loop-and-cleanup-functions" tabindex="-1"><a class="header-anchor" href="#_15-5-define-chat-loop-and-cleanup-functions" aria-hidden="true">#</a> 15.5. Define <code>chat_loop</code> and <code>cleanup</code> Functions</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>async def chat_loop(self):
    &quot;&quot;&quot;Run an interactive chat loop&quot;&quot;&quot;
    print(&quot;\nMCP Client Started!&quot;)
    print(&quot;Type your queries or &#39;quit&#39; to exit.&quot;)

    while True:
        try:
            query = input(&quot;\nQuery: &quot;).strip()

            if query.lower() == &#39;quit&#39;:
                break

            response = await self.process_query(query)
            print(&quot;\n&quot; + response)

        except Exception as e:
            print(f&quot;\nError: {str(e)}&quot;)

async def cleanup(self):
    &quot;&quot;&quot;Clean up resources&quot;&quot;&quot;
    await self.exit_stack.aclose()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-6-main-entry-point" tabindex="-1"><a class="header-anchor" href="#_15-6-main-entry-point" aria-hidden="true">#</a> 15.6. Main Entry Point</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>async def main():
    if len(sys.argv) &lt; 2:
        print(&quot;Usage: python client.py &lt;path_to_server_script&gt;&quot;)
        sys.exit(1)

    client = MCPClient()
    try:
        await client.connect_to_server(sys.argv[1])
        await client.chat_loop()
    finally:
        await client.cleanup()

if __name__ == &quot;__main__&quot;:
    import sys
    asyncio.run(main())
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!----><!--]--><footer class="page-meta"><!----><div class="meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a aria-label="AI Code Editor Source Code Exploration" class="vp-link nav-link prev nav-link prev" href="/blog/posts/llm/037_ai_code_editor.html"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>AI Code Editor Source Code Exploration</div></a><a aria-label="EasyR1 + Verl + Ray + QwenVL + GRPO" class="vp-link nav-link next nav-link next" href="/blog/posts/llm/035_easyr1_verl_ray_qwenvl_grpo.html"><div class="hint">Next<span class="arrow end"></span></div><div class="link">EasyR1 + Verl + Ray + QwenVL + GRPO<span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span></div></a></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/blog/assets/app-OCzq8eNB.js" defer></script>
  </body>
</html>
